<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Migrating Data | Starter Theme</title>
    <meta name="description" content="Wordpress Theme for TLH Marketing Sites">
    
    
    <link rel="preload" href="/starter-theme/assets/css/0.styles.973311dc.css" as="style"><link rel="preload" href="/starter-theme/assets/js/app.4ce4d8f0.js" as="script"><link rel="preload" href="/starter-theme/assets/js/2.a456683e.js" as="script"><link rel="preload" href="/starter-theme/assets/js/20.7a01bedd.js" as="script"><link rel="prefetch" href="/starter-theme/assets/js/10.e391a537.js"><link rel="prefetch" href="/starter-theme/assets/js/11.941b9daa.js"><link rel="prefetch" href="/starter-theme/assets/js/12.5c8d4aa8.js"><link rel="prefetch" href="/starter-theme/assets/js/13.4df9e654.js"><link rel="prefetch" href="/starter-theme/assets/js/14.375c0cbd.js"><link rel="prefetch" href="/starter-theme/assets/js/15.2cac2b35.js"><link rel="prefetch" href="/starter-theme/assets/js/16.ec121146.js"><link rel="prefetch" href="/starter-theme/assets/js/17.82eed4c5.js"><link rel="prefetch" href="/starter-theme/assets/js/18.705b1ea5.js"><link rel="prefetch" href="/starter-theme/assets/js/19.4c8f49da.js"><link rel="prefetch" href="/starter-theme/assets/js/21.070a6281.js"><link rel="prefetch" href="/starter-theme/assets/js/22.313da53a.js"><link rel="prefetch" href="/starter-theme/assets/js/23.bcab74a9.js"><link rel="prefetch" href="/starter-theme/assets/js/24.3343baf2.js"><link rel="prefetch" href="/starter-theme/assets/js/3.1eff6ec6.js"><link rel="prefetch" href="/starter-theme/assets/js/4.aa75fe37.js"><link rel="prefetch" href="/starter-theme/assets/js/5.f444caf9.js"><link rel="prefetch" href="/starter-theme/assets/js/6.6d2cfa34.js"><link rel="prefetch" href="/starter-theme/assets/js/7.d1025859.js"><link rel="prefetch" href="/starter-theme/assets/js/8.f688be1c.js"><link rel="prefetch" href="/starter-theme/assets/js/9.dfe22627.js">
    <link rel="stylesheet" href="/starter-theme/assets/css/0.styles.973311dc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/starter-theme/" class="home-link router-link-active"><!----> <span class="site-name">Starter Theme</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Overview</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/starter-theme/getting-started/" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/important-files/" class="nav-link">Important Files</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/naming-conventions/" class="nav-link">Naming Conventions</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/starter-theme/migrating-data/" class="nav-link router-link-exact-active router-link-active">Migrating Data</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/launch-lps/" class="nav-link">Launch LP's</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/documentation/" class="nav-link">Editing Docs</a></li></ul></div></div><div class="nav-item"><a href="/starter-theme/theme-features/" class="nav-link">Theme Features</a></div><div class="nav-item"><a href="/starter-theme/functions/" class="nav-link">Functions</a></div><div class="nav-item"><a href="/starter-theme/faq/" class="nav-link">FAQ</a></div> <a href="https://github.com/thelearninghouse/starter-theme" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Overview</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/starter-theme/getting-started/" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/important-files/" class="nav-link">Important Files</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/naming-conventions/" class="nav-link">Naming Conventions</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/starter-theme/migrating-data/" class="nav-link router-link-exact-active router-link-active">Migrating Data</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/launch-lps/" class="nav-link">Launch LP's</a></li><li class="dropdown-item"><!----> <a href="/starter-theme/documentation/" class="nav-link">Editing Docs</a></li></ul></div></div><div class="nav-item"><a href="/starter-theme/theme-features/" class="nav-link">Theme Features</a></div><div class="nav-item"><a href="/starter-theme/functions/" class="nav-link">Functions</a></div><div class="nav-item"><a href="/starter-theme/faq/" class="nav-link">FAQ</a></div> <a href="https://github.com/thelearninghouse/starter-theme" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Migrating Data</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/starter-theme/migrating-data/#tools" class="sidebar-link">Tools</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/starter-theme/migrating-data/#quick-checklist" class="sidebar-link">Quick Checklist</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/starter-theme/migrating-data/#detailed-steps" class="sidebar-link">Detailed Steps</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/starter-theme/migrating-data/#exporting" class="sidebar-link">Exporting</a></li><li class="sidebar-sub-header"><a href="/starter-theme/migrating-data/#editing" class="sidebar-link">Editing</a></li><li class="sidebar-sub-header"><a href="/starter-theme/migrating-data/#importing" class="sidebar-link">Importing</a></li><li class="sidebar-sub-header"><a href="/starter-theme/migrating-data/#final-steps" class="sidebar-link">Final Steps</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="migrating-data"><a href="#migrating-data" aria-hidden="true" class="header-anchor">#</a> Migrating Data</h1> <p>When content needs to be moved, keep in mind all the connected bits that need to go along with it. That may include attached images, metadata, taxonomy terms, and related plugins. You may choose to exclude some of this, for example tiny images that will be updated/removed anyway, or extra fields that might not be needed. If all you need is to transfer all of a certain post type, the default WordPress XML export may be enough. If you need a more selective export though, you can generate a custom CSV with exactly what you need.</p> <div class="tip custom-block"><p>This process can also be used on the same site as a way of efficiently bulk-editing many different fields and taxonomies on a lot of different posts at once.</p></div> <h2 id="tools"><a href="#tools" aria-hidden="true" class="header-anchor">#</a> Tools</h2> <ul><li><a href="https://wordpress.org/plugins/wp-all-export/" target="_blank" rel="noopener noreferrer">WP All Export (free)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Spreadsheet editor and/or plain text editor</li> <li><a href="https://github.com/hissy/rs-csv-importer" target="_blank" rel="noopener noreferrer">Really Simple CSV Importer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://wordpress.org/plugins/search-and-replace/" target="_blank" rel="noopener noreferrer">Search and Replace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://wordpress.org/plugins/import-external-images/" target="_blank" rel="noopener noreferrer">Import External Images<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="quick-checklist"><a href="#quick-checklist" aria-hidden="true" class="header-anchor">#</a> Quick Checklist</h2> <ol><li>Find posts, select fields and export CSV with WP All Export</li> <li>Edit CSV if needed, changing post data and fields</li> <li><em>Optional:</em> add function to enable external image import (for post_thumbnails)</li> <li><em>Optional:</em> do a dry run to see if everything will import correctly</li> <li>Run importer</li> <li><em>Optional:</em> Import external images in post content</li> <li>Make sure any missing plugins are installed</li> <li><em>Optional:</em> Run search and replace</li></ol> <h2 id="detailed-steps"><a href="#detailed-steps" aria-hidden="true" class="header-anchor">#</a> Detailed Steps</h2> <h3 id="exporting"><a href="#exporting" aria-hidden="true" class="header-anchor">#</a> Exporting</h3> <p>The free version of WP All Export allows you to input an array of WP_Query parameters to specify which posts you'd like to export. I'd recommend only exporting one post type at a time, since they may have differing fields. See <a href="https://codex.wordpress.org/Class_Reference/WP_Query#Parameters" target="_blank" rel="noopener noreferrer">WP_Query on the WordPress Codex<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more details on what parameters are available.</p> <h4 id="example-query-parameters"><a href="#example-query-parameters" aria-hidden="true" class="header-anchor">#</a> Example Query Parameters</h4> <p>Get all blog posts in the &quot;Careers&quot; category:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token single-quoted-string string">'post_type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'post'</span><span class="token punctuation">,</span>
<span class="token single-quoted-string string">'category_name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'careers'</span>
</code></pre></div><p>Get all child pages of the specified pages:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token single-quoted-string string">'post_type'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'page'</span><span class="token punctuation">,</span>
<span class="token single-quoted-string string">'post_parent__in'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">130</span> <span class="token punctuation">)</span>
</code></pre></div><p>Once you have the posts you want to export selected, continue to the next screen and select which fields you would like to include in your export. <strong>If you are exporting posts to move to a new install, I recommend you do not include an <code>ID</code> column, so that they get automatically generated new IDs.</strong></p> <h3 id="editing"><a href="#editing" aria-hidden="true" class="header-anchor">#</a> Editing</h3> <p>Once you have your generated csv of post data, you can use Excel or any other spreadsheet editor to change values as needed. Moving blog posts to a custom post type like Program Resources is as easy as making sure a <code>post_type</code> column exists and filling in the correct post type slug. See the <a href="https://github.com/hissy/rs-csv-importer" target="_blank" rel="noopener noreferrer">Github page for Really Simple CSV Importer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for a list of all possible columns.</p> <p>Example with post data, a taxonomy, and a custom field:</p> <div class="language-csv extra-class"><pre class="language-text"><code>post_title,post_type,post_status,tax_degree_area,main_heading_field
&quot;MBA&quot;,&quot;degrees&quot;,&quot;publish&quot;,&quot;Business&quot;,&quot;Start your MBA today.&quot;
</code></pre></div><p>If you are importing posts with images embedded in the main post content and are planning on moving the images over, image files with relative urls won't be able to be found. Make sure they are all pointing to the old site by opening your CSV in a text editor and running a find and replace on <code>src=&quot;&quot;/wp-content</code> and replace with full url of the live site that you exported the posts from.</p> <p>Be careful about modifying serialized data saved to custom fields, especially when running a find and replace. Serialized data is different data types that are all converted to a string, and if it is not updated properly it won't import correctly. WP Garage has a good <a href="https://www.wpgarage.com/tips/data-portability-and-data-serialization-in-wordpress/" target="_blank" rel="noopener noreferrer">article discussing its use in WordPress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. If you need to modify serialized data, add a function to modify the data as it's being processed for import or run a <a href="https://wordpress.org/plugins/search-and-replace/" target="_blank" rel="noopener noreferrer">search and replace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> after everything has been imported to make sure that it's updated correctly.</p> <div class="warning custom-block"><p>If you are moving posts to a separate install as new posts, I recommend not including an ID column at all. If it has an ID column with values it will try to find that post and update it if it already exists, which could cause issues with other posts already on the site.</p></div> <h3 id="importing"><a href="#importing" aria-hidden="true" class="header-anchor">#</a> Importing</h3> <p>Once installed, Really Simple CSV Importer can be found under <em>Tools &gt; Import</em>.</p> <h4 id="images"><a href="#images" aria-hidden="true" class="header-anchor">#</a> Images</h4> <p>If you are importing post thumbnails from external URLs (like the old site), you may need to temporarily enable unsafe urls since WordPress blocks external URLs by default. Add this to <code>functions.php</code> to enable. <strong>Remove when you're done!</strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Add for sideloading external images, and remove when not needed</span>
<span class="token keyword">function</span> <span class="token function">tlh_allow_unsafe_urls</span><span class="token punctuation">(</span><span class="token variable">$args</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token variable">$args</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'reject_unsafe_urls'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token variable">$args</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'http_request_args'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'tlh_allow_unsafe_urls'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="modify-data-on-import"><a href="#modify-data-on-import" aria-hidden="true" class="header-anchor">#</a> Modify Data on Import</h4> <p>If you need to process your data before it's saved to the database (like handling multiple values for a custom field or removing specific taxonomy terms), several filters are provided to modify post data, meta fields, and taxonomy data before it's saved to the database.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/*
Plugin Name: Really Simple CSV - Divide Meta Fields with Comma (add-on)
*/</span>
<span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'really_simple_csv_importer_save_meta'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$meta</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token variable">$is_update</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$meta</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">','</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$_value</span> <span class="token operator">=</span> <span class="token function">preg_split</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;/,+/&quot;</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$meta</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$_value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$meta</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">/*
Plugin Name: Really Simple CSV - Handle Serialized Data Fields (add-on)
*/</span>
<span class="token function">add_filter</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'really_simple_csv_importer_save_meta'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$meta</span><span class="token punctuation">,</span> <span class="token variable">$post</span><span class="token punctuation">,</span> <span class="token variable">$is_update</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$meta</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$key</span> <span class="token operator">==</span> <span class="token single-quoted-string string">'field_name'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token variable">$meta</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$meta</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre></div><p>In addition, it also has filters for modifying a post after it has been saved. this is useful if you need to <a href="https://gist.github.com/hissy/0973a6a9977129a6ebd0" target="_blank" rel="noopener noreferrer">save images as attachments and put their new ID in an image field<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h4 id="dry-run"><a href="#dry-run" aria-hidden="true" class="header-anchor">#</a> Dry Run</h4> <p>If you'd like to test that your data will import as you expect, you can install the <a href="https://gist.github.com/hissy/7175656" target="_blank" rel="noopener noreferrer">Debugger Add-on<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which will simply print the import data instead of saving it to the database.</p> <h3 id="final-steps"><a href="#final-steps" aria-hidden="true" class="header-anchor">#</a> Final Steps</h3> <p>After a successful import you may need to import external images in post content. <a href="https://wordpress.org/plugins/import-external-images/" target="_blank" rel="noopener noreferrer">Import External Images<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is a great tool to automatically import them into the gallery and replace the urls. Just like with importing post thumbnails, you may need to <a href="#images">temporarily enable unsafe urls</a>.</p> <p>Check to make sure any additional plugins are installed for any shortcodes in posts that are imported.</p> <div class="warning custom-block"><p>Make sure to remove <code>tlh_allow_unsafe_urls()</code> when you're done importing images.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/thelearninghouse/starter-theme/edit/master/migrating-data/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/2/2019, 3:47:15 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/starter-theme/assets/js/app.4ce4d8f0.js" defer></script><script src="/starter-theme/assets/js/2.a456683e.js" defer></script><script src="/starter-theme/assets/js/20.7a01bedd.js" defer></script>
  </body>
</html>
